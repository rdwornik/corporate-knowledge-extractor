# ======================
# GENERAL SETTINGS
# ======================

# Input paths and file extensions
input:
  directory: "data/input"
  video_extensions: [".mp4", ".mkv", ".avi", ".mov"]

# Output directory
output:
  directory: "output"

# Paths to external tools
tools:
  tesseract_path: "C:\\Program Files\\Tesseract-OCR\\tesseract.exe"

# ======================
# LLM SETTINGS
# ======================

llm:
  # Primary model for synthesis
  model: "gemini-3-flash-preview"

  # Tagger model (can be different from synthesis model)
  tagger_model: "gemini-3-flash-preview"

  # Whisper model for transcription
  whisper_model: "medium"

# ======================
# TRANSCRIPTION SETTINGS
# ======================

transcription:
  # Provider (groq, openai, local)
  provider: "groq"

  # Maximum file size before preprocessing (MB)
  max_file_size_mb: 25

  # Silence removal settings
  silence_removal:
    # Enable silence removal to reduce file size
    enabled: true

    # Silence threshold in dB (higher = more aggressive)
    # -40dB is good for meetings (removes pauses, keeps speech)
    # -30dB would be more aggressive, -50dB more conservative
    threshold_db: -40

    # Minimum silence duration to remove (seconds)
    # 2.0s removes long pauses between topics
    # 1.0s would remove shorter pauses
    min_silence_duration: 2.0

  # Audio chunking for large files
  chunking:
    # Enable automatic chunking if file exceeds max_file_size_mb
    enabled: true

    # Maximum chunk size in MB (keep under 25MB for Groq)
    max_chunk_size_mb: 24

    # Overlap between chunks in seconds (preserves context at boundaries)
    # 5s ensures words at chunk boundaries aren't lost
    overlap_seconds: 5.0

# ======================
# CONTENT LIMITS
# ======================

limits:
  # Maximum OCR text length per frame sent to LLM
  ocr_text_max_chars: 500

  # Default speech range for last frame (seconds)
  speech_range_last_frame: 60

  # Minimum text length to be considered valuable
  min_valuable_text_length: 20

  # Minimum explanation length for post-processing
  min_explanation_length: 30

  # Minimum technical details length
  min_technical_details_length: 10
